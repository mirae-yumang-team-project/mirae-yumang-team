<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title th:text="${post.title}">게시글 상세</title>
  <link rel="stylesheet" href="/static/css/reset.css">
  <link rel="stylesheet" href="/static/css/post-detail.css">
</head>
<body>
<div class="navbar">
  <a href="/home" class="navbar-brand">스프링 게시판</a>
    <div class="navbar-menu">
        <span th:if="${username}" style="color: white;" ></span>
        <a href="/posts">게시판</a>
        <a th:if="${username}" href="/mypage" th:text="${username} + '님'"></a>
        <a th:if="${username}" href="/auth/logout">로그아웃</a>
        <a th:unless="${username}" href="/auth/login">로그인</a>
  </div>
</div>

<div class="container">
  <div class="post-detail">
    <div class="post-header">
      <h1 class="post-title" th:text="${post.title}"></h1>
    <div class="post-meta">
        <span>👤 <span th:text="${post.author}"></span></span>
        <span>📅 <span th:text="${#temporals.format(post.createdAt, 'yyyy-MM-dd HH:mm')}"></span></span>
        <span>👁️ <span th:text="${post.viewCount}"></span></span>
      </div>
      
    </div>


    <div class="post-content" th:text="${post.content}"></div>

    <div class="post-footer">
      <a href="/posts" class="btn btn-secondary">돌아가기</a>

      <!-- 작성자만 수정/삭제 버튼 표시 -->
      <div class="btn-group" th:if="${isAuthor}">
        <a th:href="@{/posts/{id}/edit(id=${post.id})}" class="btn btn-primary">수정</a>
        <form th:action="@{/posts/{id}/delete(id=${post.id})}" method="post" style="display: inline;"
              onsubmit="return confirm('정말 삭제하시겠습니까?');">
          <button type="submit" class="btn btn-danger">삭제</button>
        </form>
      </div>
    </div>
  </div>
</div>
</body>
</html>